# 项目上下文文档

## 项目概述与目标

**项目名称**: 备忘录小程序样式展示网站

**核心目标**: 创建一个展示备忘录小程序可选样式的网站，让用户能够预览和选择不同的备忘录小程序UI设计方案，并支持通过一句话描述快速生成新的原型设计。

**一句话描述**: 构建一个响应式网站，展示多种备忘录小程序的UI样式方案，支持实时预览、样式切换，以及基于自然语言描述的原型设计生成功能。

**非目标**:
- 不实现完整的备忘录小程序功能（仅展示样式）
- 不涉及后端数据存储
- 不实现用户登录和账户系统
- 不提供实际的备忘录增删改查功能

## 技术栈选择与理由

### 前端技术栈

1. **HTML5 + CSS3**
   - 理由: 基础Web技术，确保兼容性和可维护性
   - 用途: 页面结构和样式定义

2. **JavaScript (ES6+)**
   - 理由: 实现交互功能，如样式切换、预览效果
   - 用途: 动态样式应用、用户交互处理

3. **CSS框架选择（可选）**
   - 方案A: 原生CSS + CSS变量
     - 理由: 轻量级，完全控制样式，易于定制
   - 方案B: Tailwind CSS
     - 理由: 快速开发，响应式设计友好
   - 推荐: 方案A（原生CSS），因为需要展示多种独立样式方案

### 开发工具

- **代码编辑器**: VS Code
- **版本控制**: Git
- **本地服务器**: Live Server 或 Python http.server
- **浏览器**: Chrome/Firefox（用于测试）

### 依赖项清单

- 无外部依赖（纯前端项目）
- 可选：Live Server扩展（VS Code）用于本地开发服务器

## 核心功能模块划分

### 1. 样式展示模块
- **功能**: 展示不同的备忘录小程序UI样式方案
- **包含**: 
  - 样式卡片列表
  - 样式预览区域
  - 样式切换按钮

### 2. 预览模块
- **功能**: 实时预览选中的样式方案
- **包含**:
  - 模拟备忘录界面
  - 示例数据展示
  - 响应式预览（移动端/桌面端）

### 3. 导航模块
- **功能**: 网站导航和样式分类
- **包含**:
  - 顶部导航栏
  - 样式分类筛选
  - 返回顶部功能

### 4. 样式方案库
- **功能**: 存储和管理不同的样式方案
- **包含**:
  - 多种颜色主题（浅色/深色/彩色）
  - 不同的布局风格（列表/卡片/网格）
  - 不同的交互效果（动画/过渡）

### 5. 原型生成器模块
- **功能**: 根据用户的一句话描述自动生成不同结构和功能点的备忘录小程序原型
- **核心定位**: 生成不同的小程序**结构、布局和功能点**，侧重于功能点的差异化，而非仅样式变化
- **重要说明**: 生成的原型**仅应用于预览区域内的备忘录小程序界面**，不会影响页面整体样式（导航栏、卡片列表等）
- **包含**:
  - 自然语言描述输入框
  - 原型生成引擎（解析描述并生成小程序结构和功能方案）
  - 功能点差异化算法（确保新原型与现有原型在功能结构上保持差异）
  - 原型预览和编辑功能
  - 原型保存和导出功能
- **功能点差异化策略**:
  - **结构布局差异化**：生成不同的界面结构（单栏/双栏/三栏布局、顶部导航/底部导航/侧边栏导航等）
  - **功能模块差异化**：包含不同的功能模块（搜索/筛选/排序、分类管理/标签系统、优先级/状态管理、时间线/日历视图等）
  - **交互方式差异化**：不同的交互模式（点击展开/侧滑操作、拖拽排序、批量操作、快捷操作等）
  - **数据展示差异化**：不同的数据展示方式（列表/卡片/网格/时间轴/日历、分组展示/平铺展示、折叠/展开等）
  - **操作流程差异化**：不同的操作流程（快速添加/表单添加、内联编辑/弹窗编辑、确认删除/直接删除等）
- **样式作用域**:
  - 使用CSS作用域选择器（`.preview-content[data-style-id]`）限制样式范围
  - 只影响预览区域内的`.memo-preview`及其子元素
  - 不影响页面其他部分（导航栏、样式卡片、生成器区域等）
  - 通过CSS变量（`--preview-*`）在预览区域内传递样式值
- **支持的原型描述类型**:
  - 结构描述：如"双栏布局"、"底部导航"、"侧边栏分类"
  - 功能描述：如"带标签系统"、"优先级管理"、"日历视图"、"拖拽排序"
  - 交互描述：如"侧滑操作"、"批量编辑"、"快速添加"
  - 组合描述：如"双栏布局带标签系统和日历视图"、"底部导航的侧滑操作备忘录"

## 数据模型与接口设计

### 样式方案数据结构

```javascript
{
  id: string,           // 样式唯一标识
  name: string,         // 样式名称
  description: string,  // 样式描述
  category: string,     // 样式分类（如：简约、商务、可爱等）
  preview: {
    colors: {
      primary: string,   // 主色调
      secondary: string, // 次色调
      background: string, // 背景色
      text: string      // 文字颜色
    },
    layout: string,     // 布局类型
    features: string[]  // 特色功能列表
  },
  cssFile: string,      // 对应的CSS文件路径
  // 原型生成相关字段（可选）
  prototypeDescription: string,  // 生成该原型的原始描述
  generatedAt: string,          // 生成时间
  isGenerated: boolean,          // 是否为AI生成的原型
  designVariations: {           // 设计差异化参数
    borderRadius: string,        // 圆角大小
    shadowIntensity: string,    // 阴影强度
    spacingScale: string,       // 间距比例
    animationType: string       // 动画类型
  }
}
```

### 示例数据

使用静态JSON文件或JavaScript对象存储样式方案数据，无需后端接口。

### 原型生成接口设计

**输入接口**:
```javascript
{
  description: string,        // 用户的一句话描述
  preferences: {              // 可选偏好设置
    colorTheme: string,       // 颜色主题偏好（浅色/深色/彩色）
    layoutType: string,       // 布局类型偏好（列表/卡片/网格）
    style: string            // 风格偏好（简约/商务/可爱等）
  }
}
```

**输出接口**:
```javascript
{
  success: boolean,           // 生成是否成功
  prototype: {               // 生成的原型数据
    id: string,
    name: string,
    description: string,
    category: string,
    preview: { ... },
    cssFile: string,
    prototypeDescription: string,
    generatedAt: string,
    isGenerated: true,
    designVariations: { ... }
  },
  cssCode: string,           // 生成的CSS代码
  differences: {             // 与现有原型的差异化说明
    colorDifference: number,  // 颜色差异度（0-100）
    layoutDifference: string, // 布局差异说明
    visualDifference: string // 视觉元素差异说明
  }
}
```

**原型生成流程**:
1. 解析用户描述，提取关键词（结构、功能、交互方式等）
2. 分析现有原型的结构和功能点，计算差异化参数
3. 生成符合描述且保持功能点差异化的新原型（包括HTML结构、CSS样式、功能模块）
4. 创建小程序界面结构和样式代码
5. 验证生成的原型质量和功能完整性
6. 返回生成结果和功能点差异化说明

**生成内容包含**:
- **HTML结构**：根据描述生成不同的界面结构（导航位置、布局方式、功能模块等）
- **功能模块**：根据描述添加不同的功能点（搜索、筛选、标签、优先级、时间管理等）
- **交互方式**：根据描述实现不同的交互模式（侧滑、拖拽、批量操作等）
- **CSS样式**：生成对应的样式代码，确保界面美观且符合描述

### 原型功能点差异化策略详解

**1. 结构布局差异化**
- **单栏布局**：传统的单列列表，适合简单场景
- **双栏布局**：左侧分类/筛选，右侧内容列表，适合复杂分类
- **三栏布局**：左侧分类、中间列表、右侧详情，适合详细信息展示
- **顶部导航**：功能按钮在顶部，适合主要操作
- **底部导航**：功能按钮在底部，符合移动端习惯
- **侧边栏导航**：分类和筛选在侧边，节省空间

**2. 功能模块差异化**
- **搜索/筛选功能**：基础搜索、高级筛选、实时搜索
- **分类/标签系统**：分类管理、多标签、标签颜色、标签筛选
- **优先级/状态管理**：优先级标识、完成状态、进行中状态、待办状态
- **时间管理**：时间线视图、日历视图、截止日期提醒、时间排序
- **排序功能**：按时间、按优先级、按分类、自定义排序

**3. 交互方式差异化**
- **操作方式**：点击展开、侧滑操作、长按菜单、右键菜单
- **编辑方式**：内联编辑、弹窗编辑、全屏编辑、分步编辑
- **删除方式**：确认删除、直接删除、批量删除、软删除（归档）
- **添加方式**：快速添加、表单添加、模板添加、批量导入

**4. 数据展示差异化**
- **展示形式**：列表、卡片、网格、时间轴、日历、看板
- **分组方式**：按分类分组、按日期分组、按优先级分组、按状态分组
- **展开方式**：全部展开、折叠分组、手风琴式、树形结构
- **信息密度**：紧凑模式、标准模式、详细模式、预览模式

**5. 功能点差异化示例**

假设现有原型：
- 原型A：单栏布局、列表展示、基础搜索、分类管理
- 原型B：双栏布局、卡片展示、标签系统、优先级管理
- 原型C：顶部导航、网格展示、时间线视图、侧滑操作

生成新原型时的功能点差异化选择：
- 结构：选择三栏布局（未使用的结构）
- 导航：选择底部导航（与现有不同）
- 功能：添加日历视图和拖拽排序（新功能点）
- 交互：选择批量操作和快捷添加（不同的交互方式）
- 展示：选择看板视图（未使用的展示方式）

### 支持的原型描述示例

**结构布局描述**:
- "双栏布局，左侧分类，右侧列表"
- "底部导航的备忘录"
- "三栏布局，带侧边栏筛选"

**功能点描述**:
- "带标签系统和优先级管理的备忘录"
- "日历视图的备忘录，支持拖拽排序"
- "时间轴布局，带侧滑操作和批量编辑"

**交互方式描述**:
- "侧滑操作的备忘录，支持快速添加"
- "批量编辑和批量删除的备忘录"
- "内联编辑，支持拖拽排序"

**组合描述**:
- "双栏布局，左侧分类，右侧带标签系统和日历视图的备忘录"
- "底部导航，侧滑操作，支持优先级管理和时间线展示"
- "三栏布局，带搜索筛选、标签系统、批量操作和看板视图"

## 开发环境要求

### 必需环境
- **操作系统**: Windows 10/11, macOS, 或 Linux
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **Node.js**: 不需要（纯前端项目）

### 推荐工具
- **VS Code**: 代码编辑
- **Live Server**: 本地开发服务器
- **Git**: 版本控制

## 文件结构规划

```
项目根目录/
├── index.html              # 主页面
├── css/
│   ├── main.css           # 主样式文件
│   ├── styles/
│   │   ├── style-1.css    # 样式方案1
│   │   ├── style-2.css    # 样式方案2
│   │   └── ...            # 更多样式方案
├── js/
│   ├── main.js            # 主逻辑文件
│   ├── style-manager.js   # 样式管理模块
│   ├── preview.js         # 预览功能模块
│   ├── prototype-generator.js  # 原型生成器模块
│   └── design-differentiator.js # 设计差异化算法
├── data/
│   ├── styles.json        # 样式方案数据
│   └── generated-prototypes.json  # AI生成的原型数据
├── assets/
│   ├── images/            # 图片资源
│   └── icons/             # 图标资源
└── memory-bank/           # 项目文档目录
    ├── project-context.md
    ├── implementation-plan.md
    ├── progress.md
    └── architecture.md
```

## 设计原则

1. **模块化**: 每个样式方案独立CSS文件，便于维护和扩展
2. **响应式**: 支持桌面端和移动端预览
3. **可扩展**: 易于添加新的样式方案
4. **性能优化**: 按需加载样式文件，避免一次性加载所有样式
5. **用户体验**: 流畅的切换动画，清晰的视觉反馈
6. **差异化设计**: 确保每个原型设计在视觉和交互上保持独特性
7. **智能生成**: 基于自然语言描述自动生成符合要求的原型设计
8. **设计一致性**: 生成的原型遵循统一的设计规范和最佳实践

## 验收标准

1. 网站能够正常显示至少3-5种不同的备忘录样式方案
2. 用户可以点击切换不同的样式，预览区域实时更新
3. 所有样式在桌面端和移动端都能正常显示
4. 页面加载速度合理（首屏加载<2秒）
5. 代码结构清晰，符合模块化原则
6. **原型生成功能验收标准**:
   - 用户可以通过一句话描述生成新的原型设计
   - 生成的原型与现有原型在颜色、布局、视觉元素上保持差异化
   - 生成的原型能够正确预览和保存
   - 支持对生成的原型进行编辑和调整
   - 生成的原型符合设计规范和最佳实践
7. **差异化验证标准**:
   - 新生成的原型在颜色方案上与现有原型至少有30%的差异
   - 布局类型自动轮换，避免连续生成相同布局
   - 视觉元素（圆角、阴影、间距）在合理范围内变化
   - 每个原型都有独特的交互效果和动画

